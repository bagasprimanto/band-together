{% load static %}

{% for profile in profiles %}
    {% if forloop.last %}
    <div hx-get="{% url 'profiles:profile_list' %}?page={{ profiles.next_page_number }}" 
    hx-trigger="revealed"
    hx-swap="afterend"
    hx-target="this"
    >
    
    </div>
    {% else %}

    {% endif %}
        <div class="profile-container d-flex flex-column col text-center">
            <a href="{% url 'profiles:profile_detail' profile.slug %}" class="text-decoration-none text-reset link">
                <div>
                    {% if profile.profile_picture %}
                    <img src="{{ profile.profile_picture.url }}" alt="profile-picture"
                        class="profile-picture rounded-circle img-fluid">
                    {% else %}
                    <img src="{% static 'images/profile_pic_default.jpg' %}" alt="profile-picture"
                        class="profile-picture rounded-circle img-fluid">
                    {% endif %}
                </div>
                <p>
                    {{ profile.display_name }}
                </p>
            </a>
        </div>
    {% endfor %}